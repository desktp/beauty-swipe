(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports={container:"Card_container__3BCzV",imgContainer:"Card_imgContainer__1Tcz3",productName:"Card_productName__BX8tU"}},19:function(e,t,n){e.exports={checkbox:"FilterButton_checkbox__kkxvD",label:"FilterButton_label__3jlM6",labelSelected:"FilterButton_labelSelected__3NJaB"}},24:function(e,t,n){e.exports={button:"Button_button__3QF_k",like:"Button_like__3XCNA",dislike:"Button_dislike__2pUHL"}},28:function(e,t,n){e.exports={spinner:"Spinner_spinner__1Neu5",spin:"Spinner_spin__2cA5G"}},29:function(e,t,n){e.exports={filterBarContainer:"FilterBar_filterBarContainer__1zSFS"}},31:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(14),o=n.n(c),i=n(17),l=n(30),u=n(6),s=n(16),p=n(20),d=n(11),_={FETCH_REQUEST:"FETCH_REQUEST",FETCH_FAILURE:"FETCH_FAILURE",FETCH_SUCCESS:"FETCH_SUCCESS",RATE_PRODUCT:"RATE_PRODUCT",SAVE_PRODUCT_RATING:"SAVE_PRODUCT_RATING",SET_FILTER:"SET_FILTER",SET_FILTER_SUCCESS:"SET_FILTER_SUCCESS"},E={products:[],ratedProducts:{like:[],dislike:[]},loading:!0,error:!1};var m=n(10),S=n.n(m),C=n(8),b=S.a.mark(O),f=S.a.mark(h),T=S.a.mark(k);function O(e){var t,n,a,r;return S.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload.page||0,c.next=4,Object(C.a)(fetch,"https://ycl641scac.execute-api.us-west-2.amazonaws.com/staging/products?page=".concat(t,"&subcategory=").concat(e.payload.filter));case 4:return n=c.sent,c.next=7,n.json();case 7:return a=c.sent,r=e.type===_.FETCH_REQUEST?_.FETCH_SUCCESS:_.SET_FILTER_SUCCESS,c.next=11,Object(C.b)({type:r,payload:a});case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,Object(C.b)({type:_.FETCH_FAILURE});case 17:case"end":return c.stop()}},b,null,[[0,13]])}function h(e){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)({type:_.SAVE_PRODUCT_RATING,payload:e.payload});case 2:case"end":return t.stop()}},f)}function k(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(_.FETCH_REQUEST,O);case 2:return e.next=4,Object(C.d)(_.SET_FILTER,O);case 4:return e.next=6,Object(C.c)(_.RATE_PRODUCT,h);case 6:case"end":return e.stop()}},T)}var F=k,g=function(e){return e};Object({NODE_ENV:"production",PUBLIC_URL:"/beauty-swipe"}).BROWSER&&window.__REDUX_DEVTOOLS_EXTENSION__&&(g=window.__REDUX_DEVTOOLS_EXTENSION__());var v=Object(l.a)(),R=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c)(Object(u.a)(v),g),U=Object(u.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _.FETCH_SUCCESS:return Object(d.a)({},e,{page:a.page,products:[].concat(Object(p.a)(e.products),Object(p.a)(a.hits)),loading:!1});case _.SET_FILTER_SUCCESS:return Object(d.a)({},e,{page:a.page,products:a.hits,loading:!1});case _.FETCH_FAILURE:return Object(d.a)({},e,{loading:!1,error:!0});case _.SAVE_PRODUCT_RATING:return Object(d.a)({},e,{ratedProducts:Object(d.a)({},e.ratedProducts,Object(s.a)({},a.action,[].concat(Object(p.a)(e.ratedProducts[a.action]),[a.product])))});default:return e}},R);v.run(F);var N=U,j=(n(41),n(12)),w=n(28),x=n.n(w),y=function(){return r.a.createElement("span",{className:x.a.spinner})},A=n(18),I=n.n(A),P=function(e){var t=e.product,n=void 0===t?{}:t,c=Object(a.useState)(!1),o=Object(j.a)(c,2),i=o[0],l=o[1];Object(a.useEffect)(function(){l(!1)},[n]);return r.a.createElement("div",{className:I.a.container},r.a.createElement("div",{className:I.a.imgContainer},!i&&r.a.createElement(y,null),r.a.createElement("img",{src:n.imageUrl,alt:n.name,style:i?void 0:{display:"none"},onLoad:function(){return l(!0)}})),r.a.createElement("p",{className:I.a.productName},n.name),r.a.createElement("p",null,n.brand))},L=n(24),B=n.n(L),D=function(e){var t=e.text,n=e.onClick,a=void 0===n?function(){}:n;return r.a.createElement("button",{onClick:a,className:"".concat(B.a.button," ").concat(B.a[t])})},H=n(19),W=n.n(H),V=function(e){var t=e.checked,n=e.handleFilterSelection,a=e.option;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:W.a.checkbox,type:"checkbox",name:a,value:a,checked:t,onChange:n}),r.a.createElement("label",{className:"".concat(W.a.label," ").concat(t?W.a.labelSelected:void 0),htmlFor:a,onClick:n},a))},X=n(29),Q=n.n(X),G=function(e){var t=e.handleFilterSelection,n=e.currentFilter,a=e.opts;return r.a.createElement("div",{className:Q.a.filterBarContainer},a.map(function(e){return r.a.createElement(V,{key:e,option:e,handleFilterSelection:t(e),checked:n===e})}))},z=(n(42),n(7)),J=n.n(z),M=["eyeshadow","concealer","foundation","lipstick","blush"];var Z={fetchProducts:function(){return{type:"FETCH_REQUEST",payload:{page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,filter:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}},rateProduct:function(e,t){return{type:"RATE_PRODUCT",payload:{product:e,action:t}}},setFilter:function(){return{type:"SET_FILTER",payload:{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}}},$=Object(i.b)(function(e){return{loading:e.loading,products:e.products,ratedProducts:e.ratedProducts,page:e.page}},Z)(function(e){var t=e.fetchProducts,n=e.rateProduct,c=e.setFilter,o=e.products,i=e.ratedProducts,l=e.page,u=e.loading,s=Object(a.useState)(0),p=Object(j.a)(s,2),d=p[0],_=p[1],E=Object(a.useState)(""),m=Object(j.a)(E,2),S=m[0],C=m[1];Object(a.useEffect)(function(){t()},[]);var b=function(e){return function(){d+2===o.length&&t(l+1,S),n(o[d],e),_(d+1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:J.a.header},"Beauty Swipe"),r.a.createElement("main",{className:J.a.contentContainer},o.length<=0||u?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{opts:M,handleFilterSelection:function(e){return function(){if(c(e),S===e)return C("");C(e)}},currentFilter:S}),r.a.createElement("div",{className:J.a.likeCounter},r.a.createElement("div",{className:"".concat(J.a.likeWrapper," ").concat(J.a.dislike)},r.a.createElement("span",null,i.dislike.length)),r.a.createElement("div",{className:J.a.likeWrapper},r.a.createElement("span",null,i.like.length))),r.a.createElement(P,{product:o[d]}),r.a.createElement("div",{className:J.a.buttonWrapper},r.a.createElement(D,{text:"dislike",onClick:b("dislike")}),r.a.createElement(D,{text:"like",onClick:b("like")})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:N},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){e.exports={header:"App_header__3ZZ1n",contentContainer:"App_contentContainer__1Uo_h",buttonWrapper:"App_buttonWrapper__2758t",likeCounter:"App_likeCounter__DtM3m",likeWrapper:"App_likeWrapper__cHNCp",dislike:"App_dislike__1E5xE"}}},[[31,1,2]]]);
//# sourceMappingURL=main.a9927073.chunk.js.map