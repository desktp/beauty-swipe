(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports={container:"Card_container__3BCzV",imgContainer:"Card_imgContainer__1Tcz3",productName:"Card_productName__BX8tU"}},18:function(e,t,n){e.exports={checkbox:"FilterButton_checkbox__kkxvD",label:"FilterButton_label__3jlM6",labelSelected:"FilterButton_labelSelected__3NJaB"}},19:function(e,t,n){e.exports={header:"App_header__3ZZ1n",contentContainer:"App_contentContainer__1Uo_h",buttonWrapper:"App_buttonWrapper__2758t"}},24:function(e,t,n){e.exports={button:"Button_button__3QF_k",like:"Button_like__3XCNA",dislike:"Button_dislike__2pUHL"}},28:function(e,t,n){e.exports={spinner:"Spinner_spinner__1Neu5",spin:"Spinner_spin__2cA5G"}},29:function(e,t,n){e.exports={filterBarContainer:"FilterBar_filterBarContainer__1zSFS"}},31:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(13),o=n.n(c),i=n(16),l=n(30),u=n(6),s=n(15),_=n(20),E=n(10),d={FETCH_REQUEST:"FETCH_REQUEST",FETCH_FAILURE:"FETCH_FAILURE",FETCH_SUCCESS:"FETCH_SUCCESS",RATE_PRODUCT:"RATE_PRODUCT",SAVE_PRODUCT_RATING:"SAVE_PRODUCT_RATING",SET_FILTER:"SET_FILTER",SET_FILTER_SUCCESS:"SET_FILTER_SUCCESS"},p={products:[],ratedProducts:{like:[],dislike:[]},loading:!0,error:!1};var m=n(9),S=n.n(m),C=n(7),b=S.a.mark(O),f=S.a.mark(h),T=S.a.mark(F);function O(e){var t,n,a,r;return S.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload.page||0,c.next=4,Object(C.a)(fetch,"https://ycl641scac.execute-api.us-west-2.amazonaws.com/staging/products?page=".concat(t,"&subcategory=").concat(e.payload.filter));case 4:return n=c.sent,c.next=7,n.json();case 7:return a=c.sent,r=e.type===d.FETCH_REQUEST?d.FETCH_SUCCESS:d.SET_FILTER_SUCCESS,c.next=11,Object(C.b)({type:r,payload:a});case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(0),c.next=17,Object(C.b)({type:d.FETCH_FAILURE});case 17:case"end":return c.stop()}},b,null,[[0,13]])}function h(e){return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)({type:d.SAVE_PRODUCT_RATING,payload:e.payload});case 2:case"end":return t.stop()}},f)}function F(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(d.FETCH_REQUEST,O);case 2:return e.next=4,Object(C.d)(d.SET_FILTER,O);case 4:return e.next=6,Object(C.c)(d.RATE_PRODUCT,h);case 6:case"end":return e.stop()}},T)}var g=F,R=function(e){return e};Object({NODE_ENV:"production",PUBLIC_URL:"/beauty-swipe"}).BROWSER&&window.__REDUX_DEVTOOLS_EXTENSION__&&(R=window.__REDUX_DEVTOOLS_EXTENSION__());var v=Object(l.a)(),k=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.c)(Object(u.a)(v),R),U=Object(u.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case d.FETCH_SUCCESS:return Object(E.a)({},e,{page:a.page,products:[].concat(Object(_.a)(e.products),Object(_.a)(a.hits)),loading:!1});case d.SET_FILTER_SUCCESS:return Object(E.a)({},e,{page:a.page,products:a.hits,loading:!1});case d.FETCH_FAILURE:return Object(E.a)({},e,{loading:!1,error:!0});case d.SAVE_PRODUCT_RATING:return Object(E.a)({},e,{ratedProducts:Object(E.a)({},e.ratedProducts,Object(s.a)({},a.action,[].concat(Object(_.a)(e.ratedProducts[a.action]),[a.product])))});default:return e}},k);v.run(g);var j=U,w=(n(41),n(11)),N=n(28),x=n.n(N),y=function(){return r.a.createElement("span",{className:x.a.spinner})},A=n(17),I=n.n(A),L=function(e){var t=e.product,n=Object(a.useState)(!1),c=Object(w.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)(function(){i(!1)},[t]);return r.a.createElement("div",{className:I.a.container},r.a.createElement("div",{className:I.a.imgContainer},!o&&r.a.createElement(y,null),r.a.createElement("img",{src:t.imageUrl,alt:t.name,style:o?void 0:{display:"none"},onLoad:function(){return i(!0)}})),r.a.createElement("p",{className:I.a.productName},t.name),r.a.createElement("p",null,t.brand))},B=n(24),P=n.n(B),D=function(e){var t=e.text,n=e.onClick,a=void 0===n?function(){}:n;return r.a.createElement("button",{onClick:a,className:"".concat(P.a.button," ").concat(P.a[t])})},H=n(18),V=n.n(H),X=function(e){var t=e.checked,n=e.handleFilterSelection,a=e.option;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:V.a.checkbox,type:"checkbox",name:a,value:a,checked:t,onChange:n}),r.a.createElement("label",{className:"".concat(V.a.label," ").concat(t?V.a.labelSelected:void 0),htmlFor:a,onClick:n},a))},Q=n(29),W=n.n(Q),G=function(e){var t=e.handleFilterSelection,n=e.currentFilter,a=e.opts;return r.a.createElement("div",{className:W.a.filterBarContainer},a.map(function(e){return r.a.createElement(X,{key:e,option:e,handleFilterSelection:t(e),checked:n===e})}))},z=(n(42),n(19)),J=n.n(z),M=["eyeshadow","concealer","foundation","lipstick","blush"];var Z={fetchProducts:function(){return{type:"FETCH_REQUEST",payload:{page:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,filter:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}}},rateProduct:function(e,t){return{type:"RATE_PRODUCT",payload:{product:e,action:t}}},setFilter:function(){return{type:"SET_FILTER",payload:{filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}}}},$=Object(i.b)(function(e){return{loading:e.loading,products:e.products,page:e.page}},Z)(function(e){var t=e.fetchProducts,n=e.rateProduct,c=e.setFilter,o=e.products,i=e.page,l=e.loading,u=Object(a.useState)(0),s=Object(w.a)(u,2),_=s[0],E=s[1],d=Object(a.useState)(""),p=Object(w.a)(d,2),m=p[0],S=p[1];Object(a.useEffect)(function(){t()},[]);var C=function(e){return function(){_+2===o.length&&t(i+1,m),n(o[_],e),E(_+1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:J.a.header},"Beauty Swipe"),r.a.createElement("main",{className:J.a.contentContainer},o.length<=0||l?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{opts:M,handleFilterSelection:function(e){return function(){if(c(e),m===e)return S("");S(e)}},currentFilter:m}),r.a.createElement(L,{product:o[_]}),r.a.createElement("div",{className:J.a.buttonWrapper},r.a.createElement(D,{text:"dislike",onClick:C("dislike")}),r.a.createElement(D,{text:"like",onClick:C("like")})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:j},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.95da97ac.chunk.js.map